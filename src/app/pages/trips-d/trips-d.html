<app-navbar></app-navbar>

<div class="trip-detail-container">
  <!-- Loading State -->
  <div *ngIf="!trip" class="loading">
    <div class="spinner"></div>
    <p>กำลังโหลดรายละเอียดการเดินทาง...</p>
  </div>

  <div *ngIf="trip" class="trip-content">
    <!-- Cover Image Section -->
    <div class="cover-image-container">
      <img [src]="trip.coverimage" [alt]="trip.name" class="cover-image">
      <div class="image-overlay">
        <div class="breadcrumb">
          <a href="/">หน้าแรก</a> 
          <span class="separator">/</span>
          <a href="/trips">การเดินทาง</a>
          <span class="separator">/</span>
          <span>{{ trip.name }}</span>
        </div>
        <h1 class="trip-title">{{ trip.name }}</h1>
        <div class="trip-meta">
          <span class="trip-badge">{{ trip.country }}</span>
          <span class="duration-badge">{{ trip.duration }} day{{ trip.duration !== 1 ? 's' : '' }}</span>
          <span class="price-badge">${{ trip.price | number }}</span>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="trip-main-content">
      <!-- Trip Info Section -->
      <div class="trip-info-section">
        <div class="info-grid">
          <div class="info-item">
            <div class="info-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
            </div>
            <div class="info-content">
              <h3>โซน目的地</h3>
              <p>{{ trip.destination_zone }}</p>
            </div>
          </div>
          
          <div class="info-item">
            <div class="info-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
            </div>
            <div class="info-content">
              <h3>ระยะเวลา</h3>
              <p>{{ trip.duration }} วัน</p>
            </div>
          </div>
          
          <div class="info-item">
            <div class="info-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
              </svg>
            </div>
            <div class="info-content">
              <h3>ราคา</h3>
              <p class="price">${{ trip.price | number }}</p>
            </div>
          </div>

          <div class="info-item">
            <div class="info-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                <path d="M2 17l10 5 10-5"></path>
                <path d="M2 12l10 5 10-5"></path>
              </svg>
            </div>
            <div class="info-content">
              <h3>ประเทศ</h3>
              <p>{{ trip.country }}</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Trip Details -->
      <div class="details-section">
        <div class="section-header">
          <h2>รายละเอียดการเดินทาง</h2>
          <div class="divider"></div>
        </div>
        <div class="detail-content" [innerHTML]="trip.detail"></div>
      </div>

      <!-- Gallery Section (Placeholder) -->
      <!-- <div class="gallery-section">
        <div class="section-header">
          <h2>ภาพจากทริป</h2>
          <div class="divider"></div>
        </div>
        <div class="gallery-grid">
          <div class="gallery-item" *ngFor="let i of [1,2,3,4]">
            <div class="gallery-placeholder">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
              </svg>
              <p>ภาพตัวอย่าง</p>
            </div>
          </div>
        </div>
      </div> -->

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button (click)="editTrip()" class="btn-secondary">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
          </svg>
          แก้ไขทริป
        </button>
        <!-- <button class="btn-primary">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          จองทริปนี้
        </button> -->
      </div>
    </div>
  </div>
</div>